# better-rm

çµ¦ä½ ä¸€å€‹æ›´å¥½ã€æ›´å®‰å…¨çš„ `rm` å‘½ä»¤

## âš ï¸ é‡è¦å…è²¬è²æ˜ / Important Disclaimer

**ä½¿ç”¨æœ¬å·¥å…·å‰è«‹å‹™å¿…è©³è®€ä»¥ä¸‹è²æ˜ï¼š**

ğŸ”´ **æœ¬å·¥å…·åƒ…æä¾›åŸºæœ¬çš„å®‰å…¨é˜²è­·å±¤ï¼Œä¸èƒ½å–ä»£å®Œæ•´çš„å‚™ä»½ç­–ç•¥**
- æ­¤å·¥å…·å°‡æª”æ¡ˆç§»è‡³åƒåœ¾æ¡¶ï¼Œä½†åƒåœ¾æ¡¶ä»åœ¨åŒä¸€å€‹æª”æ¡ˆç³»çµ±ä¸Š
- ç¡¬ç¢Ÿæ•…éšœã€ç³»çµ±æå£ã€æ„å¤–æ ¼å¼åŒ–ç­‰æƒ…æ³ä»æœƒå°è‡´è³‡æ–™æ°¸ä¹…éºå¤±
- **è«‹å‹™å¿…å®šæœŸå‚™ä»½é‡è¦è³‡æ–™åˆ°å¤–éƒ¨å„²å­˜è£ç½®æˆ–é›²ç«¯æœå‹™**

ğŸ”´ **æœ¬å·¥å…·æŒ‰ã€Œç¾æ³ã€æä¾›ï¼Œä¸æä¾›ä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è­‰**
- ä½œè€…ä¸å°ä½¿ç”¨æœ¬å·¥å…·é€ æˆçš„ä»»ä½•è³‡æ–™éºå¤±æˆ–æå®³è² è²¬
- æœ¬å·¥å…·å¯èƒ½å­˜åœ¨æœªçŸ¥çš„ bug æˆ–ç›¸å®¹æ€§å•é¡Œ
- ä½¿ç”¨è€…éœ€è‡ªè¡Œæ‰¿æ“”ä½¿ç”¨é¢¨éšª

ğŸ”´ **æœ¬å·¥å…·ä¸æ‡‰åœ¨ç”Ÿç”¢ç’°å¢ƒæˆ–é—œéµç³»çµ±ä¸Šä½¿ç”¨ï¼Œé™¤éæ‚¨å®Œå…¨äº†è§£å…¶é‹ä½œæ–¹å¼**
- å»ºè­°å…ˆåœ¨æ¸¬è©¦ç’°å¢ƒä¸­å……åˆ†æ¸¬è©¦
- äº†è§£åƒåœ¾æ¡¶æ©Ÿåˆ¶çš„é™åˆ¶ï¼ˆå¦‚ç£ç¢Ÿç©ºé–“ã€è·¨æª”æ¡ˆç³»çµ±ç§»å‹•ç­‰ï¼‰
- ç¢ºä¿æ‚¨çŸ¥é“å¦‚ä½•ä½¿ç”¨åŸç”Ÿ `rm` å‘½ä»¤ï¼ˆ`/bin/rm` æˆ– `\rm`ï¼‰

ğŸ”´ **åƒåœ¾æ¡¶ä¸æœƒè‡ªå‹•æ¸…ç†ï¼Œéœ€è¦å®šæœŸæ‰‹å‹•ç®¡ç†**
- åƒåœ¾æ¡¶æœƒæŒçºŒä½”ç”¨ç£ç¢Ÿç©ºé–“
- å»ºè­°å®šæœŸæª¢æŸ¥å’Œæ¸…ç†åƒåœ¾æ¡¶å…§å®¹
- é•·æœŸç´¯ç©å¯èƒ½å°è‡´ç£ç¢Ÿç©ºé–“ä¸è¶³

**English Version:**

ğŸ”´ **This tool provides only basic safety protection and CANNOT replace a complete backup strategy**
- Files are moved to trash, but the trash is still on the same filesystem
- Hard drive failure, system corruption, or accidental formatting can still cause permanent data loss
- **Always maintain regular backups of important data to external storage or cloud services**

ğŸ”´ **This tool is provided "AS IS" without any warranties, express or implied**
- The author is not responsible for any data loss or damage caused by using this tool
- This tool may contain unknown bugs or compatibility issues
- Users assume all risks associated with its use

ğŸ”´ **This tool should NOT be used in production or critical systems unless you fully understand how it works**
- Test thoroughly in a non-production environment first
- Understand the limitations of the trash mechanism (disk space, cross-filesystem moves, etc.)
- Ensure you know how to use the native `rm` command (`/bin/rm` or `\rm`)

ğŸ”´ **The trash is NOT automatically cleaned and requires manual management**
- Trash continuously occupies disk space
- Regularly check and clean trash contents
- Long-term accumulation may lead to insufficient disk space

---

## å°ˆæ¡ˆç°¡ä»‹

`better-rm` æ˜¯ä¸€å€‹ Linux/Unix ä¸‹çš„ `rm` å‘½ä»¤æ›¿ä»£æ–¹æ¡ˆï¼Œä¸»è¦ç›®çš„æ˜¯é˜²æ­¢èª¤åˆªé‡è¦æª”æ¡ˆèˆ‡ç›®éŒ„ã€‚èˆ‡å‚³çµ±çš„ `rm` å‘½ä»¤ä¸åŒï¼Œ`better-rm` ä¸æœƒæ°¸ä¹…åˆªé™¤æª”æ¡ˆï¼Œè€Œæ˜¯å°‡æª”æ¡ˆç§»è‡³åƒåœ¾æ¡¶ç›®éŒ„ï¼Œè®“ä½ æœ‰æ©Ÿæœƒæ•‘å›èª¤åˆªçš„æª”æ¡ˆã€‚

### ä¸»è¦ç‰¹è‰²

- ğŸ›¡ï¸ **å®‰å…¨ä¿è­·**ï¼šé˜²æ­¢åˆªé™¤é‡è¦çš„ç³»çµ±ç›®éŒ„å’Œå°ˆæ¡ˆç›®éŒ„ï¼ˆå¦‚ `/`, `/home`, `/usr`, `.git` ç­‰ï¼‰
- â™»ï¸ **åƒåœ¾æ¡¶æ©Ÿåˆ¶**ï¼šå°‡æª”æ¡ˆç§»è‡³åƒåœ¾æ¡¶è€Œéæ°¸ä¹…åˆªé™¤
- ğŸ“ **ä¿ç•™ç›®éŒ„çµæ§‹**ï¼šåœ¨åƒåœ¾æ¡¶ä¸­ç¶­æŒåŸå§‹çš„å®Œæ•´è·¯å¾‘çµæ§‹ï¼Œæ–¹ä¾¿æ—¥å¾Œé‚„åŸ
- ğŸ”§ **å®Œæ•´ç›¸å®¹**ï¼šæ”¯æ´æ‰€æœ‰å¸¸è¦‹çš„ `rm` åƒæ•¸ï¼ˆ`-r`, `-f`, `-i`, `-v` ç­‰ï¼‰
- âš™ï¸ **å¯è‡ªè¨‚**ï¼šé€éç’°å¢ƒè®Šæ•¸è‡ªè¨‚åƒåœ¾æ¡¶ä½ç½®
- ğŸ¨ **å‹å–„ä»‹é¢**ï¼šå½©è‰²è¼¸å‡ºï¼Œæ¸…æ¥šé¡¯ç¤ºæ“ä½œç‹€æ…‹

## å®‰è£æ–¹å¼

### å¿«é€Ÿå®‰è£ï¼ˆæ¨è–¦ï¼‰âš¡

åªéœ€ä¸€è¡Œå‘½ä»¤å³å¯è‡ªå‹•å®‰è£ï¼š

```bash
curl -sSL https://raw.githubusercontent.com/doggy8088/better-rm/main/install.sh | bash
```

æˆ–ä½¿ç”¨ wgetï¼š

```bash
wget -qO- https://raw.githubusercontent.com/doggy8088/better-rm/main/install.sh | bash
```

å®‰è£è…³æœ¬æœƒè‡ªå‹•ï¼š
- âœ… ä¸‹è¼‰ better-rm åˆ° `~/.better-rm` ç›®éŒ„
- âœ… åµæ¸¬ä½ çš„ shell (bash/zsh) ä¸¦è¨­å®šåˆ¥å
- âœ… åŠ å…¥ `alias rm='~/.better-rm/better-rm'` åˆ°ä½ çš„ shell è¨­å®šæª”
- âœ… æä¾›æ¸…æ¥šçš„å¾ŒçºŒæ­¥é©Ÿèªªæ˜

å®‰è£å®Œæˆå¾Œï¼ŒåŸ·è¡Œä»¥ä¸‹å‘½ä»¤å•Ÿç”¨ï¼š

```bash
source ~/.bashrc  # å¦‚æœä½¿ç”¨ bash
# æˆ–
source ~/.zshrc   # å¦‚æœä½¿ç”¨ zsh
```

é©—è­‰å®‰è£ï¼š

```bash
rm --version
```

---

### æ–¹æ³•ä¸€ï¼šæ‰‹å‹•ä½¿ç”¨åˆ¥å

é€™ç¨®æ–¹æ³•æœ€å®‰å…¨ï¼Œä¸æœƒè¦†è“‹ç³»çµ±åŸç”Ÿçš„ `rm` å‘½ä»¤ï¼Œéœ€è¦æ™‚ä»å¯ä½¿ç”¨ `/bin/rm` å­˜å–åŸå§‹å‘½ä»¤ã€‚

1. è¤‡è£½å°ˆæ¡ˆåˆ°æœ¬åœ°ç›®éŒ„ï¼š

```bash
git clone https://github.com/doggy8088/better-rm.git ~/better-rm
```

2. è¨­å®šåˆ¥åï¼Œåœ¨ `~/.bashrc` æˆ– `~/.zshrc` ä¸­åŠ å…¥ä»¥ä¸‹å…§å®¹ï¼š

```bash
# ä½¿ç”¨ better-rm æ›¿ä»£ rm å‘½ä»¤
alias rm='~/better-rm/better-rm'
```

3. é‡æ–°è¼‰å…¥è¨­å®šæª”ï¼š

```bash
source ~/.bashrc  # æˆ– source ~/.zshrc
```

4. é©—è­‰å®‰è£ï¼š

```bash
rm --version
```

æ‡‰è©²æœƒçœ‹åˆ° `better-rm 1.0.0` çš„ç‰ˆæœ¬è³‡è¨Šã€‚

**æç¤º**ï¼šå¦‚æœéœ€è¦ä½¿ç”¨ç³»çµ±åŸç”Ÿçš„ `rm` å‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨å®Œæ•´è·¯å¾‘ `/bin/rm` æˆ–ç”¨åæ–œç·š `\rm`ã€‚

### æ–¹æ³•äºŒï¼šæ‰‹å‹•è¤‡è£½åˆ° PATH ç›®éŒ„

å¦‚æœä½ æƒ³è®“ `better-rm` å¯ä»¥ç›´æ¥åŸ·è¡Œï¼ˆä¸åªæ˜¯é€é `rm` åˆ¥åï¼‰ï¼Œå¯ä»¥å°‡å®ƒè¤‡è£½åˆ° PATH ç›®éŒ„ï¼š

```bash
# ä¸‹è¼‰å°ˆæ¡ˆ
git clone https://github.com/doggy8088/better-rm.git
cd better-rm

# è¤‡è£½åˆ° /usr/local/binï¼ˆéœ€è¦ sudo æ¬Šé™ï¼‰
sudo cp better-rm /usr/local/bin/
sudo chmod +x /usr/local/bin/better-rm

# æˆ–è¤‡è£½åˆ°ä½¿ç”¨è€…çš„ bin ç›®éŒ„ï¼ˆä¸éœ€è¦ sudoï¼‰
mkdir -p ~/bin
cp better-rm ~/bin/
chmod +x ~/bin/better-rm

# ç¢ºä¿ ~/bin åœ¨ PATH ä¸­ï¼ˆåœ¨ ~/.bashrc æˆ– ~/.zshrc åŠ å…¥ï¼‰
export PATH="$HOME/bin:$PATH"
```

ç„¶å¾Œå¯ä»¥é¸æ“‡æ€§è¨­å®šåˆ¥åï¼š

```bash
# åœ¨ ~/.bashrc æˆ– ~/.zshrc ä¸­åŠ å…¥
alias rm='better-rm'
```

é‡æ–°è¼‰å…¥è¨­å®šæª”ï¼š

```bash
source ~/.bashrc  # æˆ– source ~/.zshrc
```

## ä½¿ç”¨æ–¹å¼

### åŸºæœ¬èªæ³•

```bash
rm [é¸é …] [æª”æ¡ˆæˆ–ç›®éŒ„...]
```

### æ”¯æ´çš„é¸é …

| é¸é … | èªªæ˜ |
|------|------|
| `-r`, `-R`, `--recursive` | éè¿´åˆªé™¤ç›®éŒ„åŠå…¶å…§å®¹ |
| `-f`, `--force` | å¼·åˆ¶åˆªé™¤ï¼Œå¿½ç•¥ä¸å­˜åœ¨çš„æª”æ¡ˆï¼Œä¸æç¤º |
| `-i` | æ¯æ¬¡åˆªé™¤å‰æç¤ºç¢ºèª |
| `-I` | åˆªé™¤è¶…éä¸‰å€‹æª”æ¡ˆæˆ–éè¿´åˆªé™¤å‰æç¤ºä¸€æ¬¡ |
| `-v`, `--verbose` | é¡¯ç¤ºè©³ç´°æ“ä½œéç¨‹ |
| `--help` | é¡¯ç¤ºèªªæ˜è¨Šæ¯ |
| `--version` | é¡¯ç¤ºç‰ˆæœ¬è³‡è¨Š |

### ä½¿ç”¨ç¯„ä¾‹

#### åˆªé™¤å–®ä¸€æª”æ¡ˆ

```bash
rm file.txt
```

#### åˆªé™¤ç›®éŒ„

```bash
rm -r directory/
```

#### å¼·åˆ¶åˆªé™¤ï¼ˆä¸æç¤ºï¼‰

```bash
rm -rf old_project/
```

#### äº’å‹•å¼åˆªé™¤ï¼ˆæ¯æ¬¡éƒ½æœƒè©¢å•ï¼‰

```bash
rm -i important_file.txt
```

#### é¡¯ç¤ºè©³ç´°éç¨‹

```bash
rm -rv temp_folder/
```

#### ä½¿ç”¨è‡ªè¨‚åƒåœ¾æ¡¶ç›®éŒ„

```bash
TRASH_DIR=/tmp/my-trash rm file.txt
```

## åƒåœ¾æ¡¶æ©Ÿåˆ¶

### é è¨­ä½ç½®

åƒåœ¾æ¡¶é è¨­ä½æ–¼ `~/.Trash` ç›®éŒ„ã€‚

### ç›®éŒ„çµæ§‹ä¿ç•™

ç•¶ä½ åˆªé™¤ä¸€å€‹æª”æ¡ˆæ™‚ï¼Œ`better-rm` æœƒåœ¨åƒåœ¾æ¡¶ä¸­ä¿ç•™åŸå§‹çš„å®Œæ•´è·¯å¾‘çµæ§‹ã€‚

**ç¯„ä¾‹ï¼š**

å¦‚æœä½ åˆªé™¤ `/home/user/projects/myapp/src/main.js`ï¼Œè©²æª”æ¡ˆæœƒè¢«ç§»å‹•åˆ°ï¼š

```
~/.Trash/home/user/projects/myapp/src/main.js
```

é€™æ¨£åšçš„å¥½è™•ï¼š
- å¯ä»¥æ¸…æ¥šçŸ¥é“æª”æ¡ˆåŸæœ¬çš„ä½ç½®
- æ–¹ä¾¿æ—¥å¾Œé–‹ç™¼é‚„åŸåŠŸèƒ½
- é¿å…ä¸åŒè·¯å¾‘ä¸‹åŒåæª”æ¡ˆçš„è¡çª

### æª”æ¡ˆåç¨±æ ¼å¼

å¾ v1.1.0 é–‹å§‹ï¼Œåƒåœ¾æ¡¶ä¸­çš„æª”æ¡ˆåç¨±æœƒè‡ªå‹•åŠ ä¸Šæ™‚é–“æˆ³è¨˜å’Œå…§å®¹é›œæ¹Šå€¼ï¼š

```
åŸå§‹æª”æ¡ˆ: file.txt
åƒåœ¾æ¡¶ä¸­: file.txt__20251209_143052_123456789__e59ff97941044f85df5297e1c302d260
æ ¼å¼èªªæ˜: filename__YYYYMMDD_HHMMSS_NNNNNNNNN__hash
```

é€™æ¨£çš„è¨­è¨ˆæœ‰ä»¥ä¸‹å¥½è™•ï¼š
- æ™‚é–“æˆ³è¨˜åŒ…å«å¥ˆç§’ç²¾åº¦ï¼Œé¿å…å¿«é€Ÿåˆªé™¤æ™‚çš„æª”åè¡çª
- å…§å®¹é›œæ¹Šå€¼å¯ç”¨æ–¼è­˜åˆ¥æª”æ¡ˆå…§å®¹ï¼Œæ–¹ä¾¿é‡è¤‡æª”æ¡ˆçš„ç®¡ç†
- å¯è¿½è¹¤æª”æ¡ˆçš„åˆªé™¤æ™‚é–“

### åˆªé™¤æ—¥èªŒ

`better-rm` æœƒåœ¨åƒåœ¾æ¡¶ç›®éŒ„ä¸­ç¶­è­·ä¸€å€‹ `.deletion_log` æª”æ¡ˆï¼Œè¨˜éŒ„æ‰€æœ‰åˆªé™¤æ“ä½œï¼š

```bash
# æŸ¥çœ‹åˆªé™¤æ—¥èªŒ
cat ~/.Trash/.deletion_log
```

æ—¥èªŒæ ¼å¼ï¼š
```
TIMESTAMP | ORIGINAL_PATH | TRASH_PATH | HASH | FILE_TYPE
```

ç¯„ä¾‹ï¼š
```
20251209_084530_429345278 | /home/user/file.txt | /home/user/.Trash/.../file.txt__...__hash | d6eb320... | file
20251209_084547_505346836 | /home/user/mydir | /home/user/.Trash/.../mydir__...__hash | c55e1b8... | directory
```

é€™å€‹æ—¥èªŒå¯ä»¥å¹«åŠ©ä½ ï¼š
- è¿½è¹¤æ‰€æœ‰åˆªé™¤çš„æª”æ¡ˆ
- æ‰¾å‡ºç‰¹å®šæª”æ¡ˆçš„åˆªé™¤æ™‚é–“
- ç¢ºèªæª”æ¡ˆåœ¨åƒåœ¾æ¡¶ä¸­çš„ä½ç½®
- æ ¹æ“šå…§å®¹é›œæ¹Šå€¼æ‰¾å‡ºé‡è¤‡çš„æª”æ¡ˆ

### è‡ªè¨‚åƒåœ¾æ¡¶ä½ç½®

ä½ å¯ä»¥é€é `TRASH_DIR` ç’°å¢ƒè®Šæ•¸ä¾†è‡ªè¨‚åƒåœ¾æ¡¶ä½ç½®ï¼š

```bash
# æš«æ™‚è¨­å®šï¼ˆå–®æ¬¡ä½¿ç”¨ï¼‰
TRASH_DIR=/tmp/trash rm file.txt

# æ°¸ä¹…è¨­å®šï¼ˆåœ¨ ~/.bashrc æˆ– ~/.zshrc ä¸­åŠ å…¥ï¼‰
export TRASH_DIR="$HOME/MyTrash"
```

## å—ä¿è­·çš„ç›®éŒ„

ç‚ºäº†é˜²æ­¢ç½é›£æ€§çš„èª¤åˆªï¼Œ`better-rm` æœƒæ‹’çµ•åˆªé™¤ä»¥ä¸‹é‡è¦ç›®éŒ„ï¼š

### ç³»çµ±ç›®éŒ„

- `/` - æ ¹ç›®éŒ„
- `/bin` - ç³»çµ±äºŒé€²ä½æª”æ¡ˆ
- `/boot` - é–‹æ©Ÿç›¸é—œæª”æ¡ˆ
- `/dev` - è£ç½®æª”æ¡ˆ
- `/etc` - ç³»çµ±è¨­å®šæª”
- `/home` - ä½¿ç”¨è€…ä¸»ç›®éŒ„æ ¹ç›®éŒ„
- `/lib`, `/lib64` - ç³»çµ±å‡½å¼åº«
- `/opt` - ç¬¬ä¸‰æ–¹è»Ÿé«”
- `/proc` - ç¨‹åºè³‡è¨Š
- `/root` - root ä½¿ç”¨è€…çš„å®¶ç›®éŒ„
- `/sbin` - ç³»çµ±ç®¡ç†äºŒé€²ä½æª”æ¡ˆ
- `/sys` - ç³»çµ±è³‡è¨Š
- `/usr` - ä½¿ç”¨è€…ç¨‹å¼
- `/var` - è®Šå‹•è³‡æ–™

### ä½¿ç”¨è€…ç›®éŒ„

- `~` æˆ– `$HOME` - ä½ çš„å®¶ç›®éŒ„ï¼ˆæ•´å€‹ç›®éŒ„ï¼‰

### å°ˆæ¡ˆç›®éŒ„

- `.git` - Git ç‰ˆæœ¬æ§åˆ¶ç›®éŒ„ï¼ˆä»»ä½•ä½ç½®çš„ .git ç›®éŒ„ï¼‰

### ä¿è­·æ©Ÿåˆ¶

ç•¶ä½ å˜—è©¦åˆªé™¤å—ä¿è­·çš„ç›®éŒ„æ™‚ï¼Œ`better-rm` æœƒï¼š

1. é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
2. æ‹’çµ•åŸ·è¡Œåˆªé™¤æ“ä½œ
3. æç¤ºé€™æ˜¯é‡è¦çš„ç³»çµ±æˆ–å°ˆæ¡ˆç›®éŒ„

**ç¯„ä¾‹ï¼š**

```bash
$ rm -rf /
éŒ¯èª¤ (Error): æ‹’çµ•åˆªé™¤å—ä¿è­·çš„ç›®éŒ„: '/'
éŒ¯èª¤ (Error): Refused to remove protected directory: '/'
éŒ¯èª¤ (Error): é€™æ˜¯ä¸€å€‹é‡è¦çš„ç³»çµ±ç›®éŒ„æˆ–å°ˆæ¡ˆç›®éŒ„ï¼
éŒ¯èª¤ (Error): This is a critical system or project directory!
```

## æ¸…ç†åƒåœ¾æ¡¶

`better-rm` ç›®å‰ä¸æœƒè‡ªå‹•æ¸…ç†åƒåœ¾æ¡¶ï¼Œä½ å¯ä»¥æ‰‹å‹•æ¸…ç†ï¼š

### æª¢è¦–åƒåœ¾æ¡¶å…§å®¹

```bash
ls -la ~/.Trash/
```

### æ¸…ç©ºåƒåœ¾æ¡¶

```bash
# ä½¿ç”¨ç³»çµ±åŸç”Ÿçš„ rm å‘½ä»¤ï¼ˆè«‹å°å¿ƒï¼ï¼‰
/bin/rm -rf ~/.Trash/*
```

### é‚„åŸæª”æ¡ˆ

ç”±æ–¼æª”æ¡ˆä¿ç•™äº†åŸå§‹è·¯å¾‘çµæ§‹ï¼Œä½ å¯ä»¥è¼•é¬†é‚„åŸï¼š

```bash
# æ‰‹å‹•é‚„åŸæª”æ¡ˆ
mv ~/.Trash/home/user/projects/myapp/file.txt /home/user/projects/myapp/
```

> **æ³¨æ„ï¼š** æœªä¾†ç‰ˆæœ¬è¨ˆç•«æä¾›è‡ªå‹•é‚„åŸåŠŸèƒ½ã€‚

## æŠ€è¡“ç´°ç¯€

### ç›¸å®¹æ€§

- **ä½œæ¥­ç³»çµ±**ï¼šLinux, macOS, Unix-like ç³»çµ±
- **Shell**ï¼šBash 4.0+
- **ä¾è³´**ï¼šåŸºæœ¬çš„ Unix å·¥å…·ï¼ˆ`mv`, `mkdir`, `readlink`/`realpath`ï¼‰

### é™åˆ¶

1. **è·¨æª”æ¡ˆç³»çµ±ç§»å‹•**ï¼šå¦‚æœåƒåœ¾æ¡¶å’ŒåŸå§‹æª”æ¡ˆåœ¨ä¸åŒçš„æª”æ¡ˆç³»çµ±ï¼ˆå¦‚ä¸åŒçš„ç¡¬ç¢Ÿåˆ†å‰²å€ï¼‰ï¼Œç§»å‹•æ“ä½œå¯èƒ½æœƒæ¯”è¼ƒæ…¢ã€‚
2. **ç£ç¢Ÿç©ºé–“**ï¼šåƒåœ¾æ¡¶æœƒä½”ç”¨ç£ç¢Ÿç©ºé–“ï¼Œéœ€è¦å®šæœŸæ¸…ç†ã€‚
3. **æ¬Šé™å•é¡Œ**ï¼šå¦‚æœä½ æ²’æœ‰æ¬Šé™ç§»å‹•æŸå€‹æª”æ¡ˆï¼Œæ“ä½œæœƒå¤±æ•—ã€‚

## å®‰å…¨æ€§è€ƒé‡ / Security Considerations

### âš ï¸ ä½¿ç”¨é™åˆ¶èˆ‡é¢¨éšª / Limitations and Risks

**é‡è¦ï¼šè«‹åœ¨ä½¿ç”¨å‰å……åˆ†äº†è§£ä»¥ä¸‹é™åˆ¶**

1. **ä¸æ˜¯å®Œæ•´å‚™ä»½è§£æ±ºæ–¹æ¡ˆ**
   - åƒåœ¾æ¡¶æ©Ÿåˆ¶åƒ…æä¾›åŸºæœ¬çš„èª¤åˆªä¿è­·
   - ç„¡æ³•é˜²è­·ç¡¬ç¢Ÿæ•…éšœã€ç³»çµ±æ•…éšœã€æƒ¡æ„è»Ÿé«”ç­‰é¢¨éšª
   - é‡è¦è³‡æ–™å¿…é ˆæœ‰ç¨ç«‹çš„å‚™ä»½ç­–ç•¥

2. **ç£ç¢Ÿç©ºé–“é™åˆ¶**
   - åƒåœ¾æ¡¶æœƒæŒçºŒä½”ç”¨ç£ç¢Ÿç©ºé–“
   - å¯èƒ½å°è‡´ç£ç¢Ÿç©ºé–“ä¸è¶³çš„å•é¡Œ
   - éœ€è¦å®šæœŸæ‰‹å‹•æ¸…ç†

3. **è·¨æª”æ¡ˆç³»çµ±é™åˆ¶**
   - è·¨ä¸åŒæª”æ¡ˆç³»çµ±çš„ç§»å‹•æœƒè¼ƒæ…¢ï¼ˆéœ€è¦è¤‡è£½è€Œéç§»å‹•ï¼‰
   - å¯èƒ½æœƒé‡åˆ°æ¬Šé™å•é¡Œ

4. **ç„¡ä¿è­‰æ€§**
   - æœ¬å·¥å…·æŒ‰ã€Œç¾æ³ã€æä¾›ï¼Œç„¡ä»»ä½•ä¿è­‰
   - ä½œè€…ä¸å°ä»»ä½•è³‡æ–™éºå¤±è² è²¬
   - ä½¿ç”¨è€…éœ€è‡ªè¡Œæ‰¿æ“”é¢¨éšª

**Important: Please fully understand the following limitations before use**

1. **Not a Complete Backup Solution**
   - Trash mechanism only provides basic accidental deletion protection
   - Cannot protect against drive failure, system failure, malware, etc.
   - Important data must have an independent backup strategy

2. **Disk Space Limitation**
   - Trash continuously occupies disk space
   - May cause disk space shortage
   - Requires regular manual cleanup

3. **Cross-Filesystem Limitation**
   - Moving across different filesystems is slower (requires copy instead of move)
   - May encounter permission issues

4. **No Warranty**
   - This tool is provided "AS IS" without any warranty
   - Author is not responsible for any data loss
   - Users assume all risks

### ç‚ºä»€éº¼éœ€è¦ better-rmï¼Ÿ

åœ¨ä½¿ç”¨ AI è¼”åŠ©ç·¨ç¨‹å·¥å…·ï¼ˆå¦‚ Claude Code, GitHub Copilot ç­‰ï¼‰æ™‚ï¼ŒAI å¯èƒ½æœƒå»ºè­°åŸ·è¡Œä¸€äº›å±éšªçš„å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š

```bash
rm -rf ~/  # åˆªé™¤æ•´å€‹å®¶ç›®éŒ„ï¼
rm -rf /   # åˆªé™¤æ•´å€‹ç³»çµ±ï¼
```

é€™äº›å‘½ä»¤ä¸€æ—¦åŸ·è¡Œï¼Œå¾Œæœä¸å ªè¨­æƒ³ã€‚`better-rm` æä¾›äº†ä¸€å±¤é˜²è­·ç¶²ï¼Œå³ä½¿ä¸å°å¿ƒåŸ·è¡Œäº†é€™äº›å‘½ä»¤ï¼Œä¹Ÿä¸æœƒé€ æˆæ°¸ä¹…æ€§æå®³ã€‚

### æœ€ä½³å¯¦è¸

1. **è¬¹æ…ä½¿ç”¨ `-f` é¸é …**ï¼šå¼·åˆ¶æ¨¡å¼æœƒè·³éç¢ºèªï¼Œå»ºè­°å…ˆä¸åŠ  `-f` æ¸¬è©¦ã€‚
2. **å®šæœŸæ¸…ç†åƒåœ¾æ¡¶**ï¼šé¿å…ä½”ç”¨éå¤šç£ç¢Ÿç©ºé–“ã€‚
3. **é‡è¦æª”æ¡ˆå¦å¤–å‚™ä»½**ï¼šé›–ç„¶æœ‰åƒåœ¾æ¡¶ï¼Œä½†é‡è¦è³‡æ–™é‚„æ˜¯è¦æœ‰å®Œæ•´çš„å‚™ä»½ç­–ç•¥ã€‚
4. **äº†è§£ä¿è­·æ¸…å–®**ï¼šçŸ¥é“å“ªäº›ç›®éŒ„å—åˆ°ä¿è­·ï¼Œé¿å…é©šè¨ã€‚

## ç–‘é›£æ’è§£

### å•é¡Œï¼šæ‰¾ä¸åˆ° rm å‘½ä»¤

**è§£æ±ºæ–¹æ³•ï¼š**

1. æª¢æŸ¥ `~/bin` æ˜¯å¦åœ¨ PATH ä¸­ï¼š
   ```bash
   echo $PATH
   ```

2. é‡æ–°è¼‰å…¥è¨­å®šæª”ï¼š
   ```bash
   source ~/.bashrc  # æˆ– source ~/.zshrc
   ```

### å•é¡Œï¼šæç¤ºæ¬Šé™è¢«æ‹’

**è§£æ±ºæ–¹æ³•ï¼š**

ç¢ºä¿è…³æœ¬æœ‰åŸ·è¡Œæ¬Šé™ï¼š
```bash
chmod +x ~/bin/rm
```

### å•é¡Œï¼šåƒåœ¾æ¡¶ä½”ç”¨å¤ªå¤šç©ºé–“

**è§£æ±ºæ–¹æ³•ï¼š**

å®šæœŸæ¸…ç†åƒåœ¾æ¡¶ï¼š
```bash
# æ¸…ç† 30 å¤©å‰çš„æª”æ¡ˆ
find ~/.Trash -mtime +30 -delete
```

### å•é¡Œï¼šæƒ³è¦ä½¿ç”¨åŸç”Ÿçš„ rm å‘½ä»¤

**è§£æ±ºæ–¹æ³•ï¼š**

ä½¿ç”¨å®Œæ•´è·¯å¾‘å‘¼å«ç³»çµ±åŸç”Ÿçš„ rmï¼š
```bash
/bin/rm file.txt
```

æˆ–ç”¨åæ–œç·šæš«æ™‚ç¹éåˆ¥åï¼ˆbypass aliasï¼‰ï¼š
```bash
\rm file.txt
```

## æœªä¾†è¨ˆç•«

- [ ] å¯¦ä½œé‚„åŸåŠŸèƒ½ï¼ˆ`rm --restore`ï¼‰
- [ ] è‡ªå‹•æ¸…ç†éæœŸçš„åƒåœ¾æª”æ¡ˆ
- [ ] æä¾›åƒåœ¾æ¡¶ç®¡ç†ä»‹é¢
- [ ] æ”¯æ´æ›´å¤šè‡ªè¨‚ä¿è­·è¦å‰‡
- [ ] åŠ å…¥è¨­å®šæª”æ”¯æ´

## æ¸¬è©¦

æœ¬å°ˆæ¡ˆåŒ…å«å®Œæ•´çš„æ¸¬è©¦è…³æœ¬ï¼Œå¯åœ¨å®¹å™¨ç’°å¢ƒä¸‹æ¸¬è©¦æ‰€æœ‰åŠŸèƒ½ï¼š

```bash
# åŸ·è¡Œæ¸¬è©¦
./test-better-rm.sh

# åœ¨ Docker å®¹å™¨ä¸­æ¸¬è©¦
docker run -v $(pwd):/app ubuntu:latest bash /app/test-better-rm.sh
```

æ¸¬è©¦æ¶µè“‹ï¼š
- âœ… åŸºæœ¬æª”æ¡ˆèˆ‡ç›®éŒ„åˆªé™¤
- âœ… ç‰¹æ®Šå­—å…ƒæª”åè™•ç†
- âœ… æ™‚é–“æˆ³è¨˜èˆ‡å…§å®¹ Hash
- âœ… åˆªé™¤æ—¥èªŒåŠŸèƒ½
- âœ… å—ä¿è­·ç›®éŒ„
- âœ… å¿«é€Ÿé€£çºŒåˆªé™¤
- âœ… ç¬¦è™Ÿé€£çµè™•ç†
- âœ… å‘½ä»¤åƒæ•¸é¸é …

è©³ç´°æ¸¬è©¦èªªæ˜è«‹åƒè€ƒ [TEST_README.md](TEST_README.md)

## è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼

### é–‹ç™¼æŒ‡å—

1. Fork æœ¬å°ˆæ¡ˆ
2. å»ºç«‹ä½ çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤ä½ çš„è®Šæ›´ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. é–‹å•Ÿ Pull Request

## æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

## è‡´è¬

æ„Ÿè¬æ‰€æœ‰ç‚ºæ›´å®‰å…¨çš„å‘½ä»¤åˆ—ç’°å¢ƒåšå‡ºè²¢ç»çš„é–‹ç™¼è€…ã€‚

## è¯çµ¡æ–¹å¼

å¦‚æœ‰ä»»ä½•å•é¡Œæˆ–å»ºè­°ï¼Œæ­¡è¿é€é GitHub Issues èˆ‡æˆ‘å€‘è¯ç¹«ã€‚

---

## âš ï¸ å†æ¬¡æé†’ / Final Reminder

**æœ¬å·¥å…·ä¸èƒ½ä¹Ÿä¸æ‡‰è©²å–ä»£å®Œæ•´çš„å‚™ä»½ç­–ç•¥ï¼**

- âœ… **è«‹åšå¥½**ï¼šå®šæœŸå‚™ä»½é‡è¦è³‡æ–™åˆ°å¤–éƒ¨å„²å­˜æˆ–é›²ç«¯
- âœ… **è«‹åšå¥½**ï¼šäº†è§£å·¥å…·çš„é™åˆ¶å’Œé¢¨éšª
- âœ… **è«‹åšå¥½**ï¼šåœ¨æ¸¬è©¦ç’°å¢ƒå…ˆå……åˆ†æ¸¬è©¦
- âœ… **è«‹åšå¥½**ï¼šå®šæœŸæ¸…ç†åƒåœ¾æ¡¶
- âŒ **è«‹å‹¿**ï¼šä¾è³´åƒåœ¾æ¡¶ä½œç‚ºå”¯ä¸€çš„è³‡æ–™ä¿è­·æªæ–½
- âŒ **è«‹å‹¿**ï¼šåœ¨é—œéµç”Ÿç”¢ç³»çµ±ä¸Šæœªç¶“æ¸¬è©¦å°±ä½¿ç”¨
- âŒ **è«‹å‹¿**ï¼šå‡è¨­åƒåœ¾æ¡¶ä¸­çš„è³‡æ–™æ°¸é å®‰å…¨

**This tool CANNOT and SHOULD NOT replace a complete backup strategy!**

- âœ… **DO**: Regularly backup important data to external storage or cloud
- âœ… **DO**: Understand the tool's limitations and risks
- âœ… **DO**: Test thoroughly in a test environment first
- âœ… **DO**: Regularly clean the trash
- âŒ **DON'T**: Rely on the trash as your only data protection measure
- âŒ **DON'T**: Use in critical production systems without testing
- âŒ **DON'T**: Assume data in trash is permanently safe

**ä½¿ç”¨æœ¬å·¥å…·å³è¡¨ç¤ºæ‚¨å·²é–±è®€ã€ç†è§£ä¸¦åŒæ„ä¸Šè¿°æ‰€æœ‰å…è²¬è²æ˜å’Œé™åˆ¶ã€‚**

**By using this tool, you acknowledge that you have read, understood, and agreed to all the disclaimers and limitations stated above.**
